<!-- Execute all tests for multicast -->
<nettestrecipe>
    <!-- Change these parameters to match your test environment setup -->
    <define>
        <alias name="hostname1" value="192.168.122.11"/>
        <alias name="virtdomain1" value="RHEL6"/>

        <alias name="hostname2" value="192.168.122.10"/>
        <alias name="virtdomain2" value="Fedora16-clone"/>
    </define>
    <machines>
        <machine id="1">
            <machineconfig>
                <info hostname="{$hostname1}" libvirt_domain="{$virtdomain1}"
                      rootpass="redhat"/>
                <netdevices>
                    <libvirt_create>
                        <netdevice network="tnet" phys_id="1" type="eth"/>
                        <netdevice network="tnet" phys_id="2" type="eth"/>
                    </libvirt_create>
                </netdevices>
            </machineconfig>
            <netconfig>
                <interface id="1" phys_id="1" type="eth">
                    <addresses>
                        <address value="192.168.100.226/24"/>
                    </addresses>
                </interface>
                <interface id="2" phys_id="2" type="eth">
                    <addresses>
                        <address value="192.168.100.240/24"/>
                    </addresses>
                </interface>
            </netconfig>
        </machine>
        <machine id="2">
            <machineconfig>
                <info hostname="{$hostname2}" libvirt_domain="{$virtdomain2}"
                      rootpass="redhat"/>
                <netdevices>
                    <libvirt_create>
                        <netdevice network="tnet" phys_id="1" type="eth"/>
                    </libvirt_create>
                </netdevices>
            </machineconfig>
            <netconfig>
                <interface id="1" phys_id="1" type="eth">
                    <addresses>
                        <address value="192.168.100.215/24"/>
                    </addresses>
                </interface>
            </netconfig>
        </machine>
    </machines>

    <define>
        <alias name="multicast_group" value="239.1.2.3"/>
        <alias name="port" value="1337"/>
        <alias name="test_duration" value="10"/>
        <alias name="send_delay" value="0.1"/>
        <alias name="nonexistent_ip" value="127.0.0.200"/>
    </define>

    <command_sequence source="cmd_sequences/multicast/max_groups.xml"/>
    <command_sequence source="cmd_sequences/multicast/block_source.xml"/>
    <command_sequence source="cmd_sequences/multicast/source_membership.xml"/>
    <command_sequence source="cmd_sequences/multicast/membership.xml"/>
    <command_sequence source="cmd_sequences/multicast/if.xml"/>
    <command_sequence source="cmd_sequences/multicast/ttl.xml"/>
    <command_sequence source="cmd_sequences/multicast/loop.xml"/>
    <command_sequence source="cmd_sequences/multicast/simple.xml"/>
</nettestrecipe>
